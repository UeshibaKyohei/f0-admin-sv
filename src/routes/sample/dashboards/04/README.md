# åœ¨åº«ãƒ»ç‰©æµç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

## æ¦‚è¦

ã“ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ã€ä¼æ¥­ã®åœ¨åº«ç®¡ç†ãƒ»ç‰©æµã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æœ€é©åŒ–ã‚’ç›®çš„ã¨ã—ãŸã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ»åˆ†æã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚AIé§†å‹•ã®äºˆæ¸¬åˆ†æã€ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã«ã‚ˆã‚‹è¦–è¦šåŒ–ã€åœ°ç†çš„é…é€è¿½è·¡ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³å…¨ä½“ã®åŠ¹ç‡åŒ–ã‚’æ”¯æ´ã—ã¾ã™ã€‚

### ğŸ¯ å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼

- **ç‰©æµãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: é…é€çŠ¶æ³ã®ç›£è¦–ã¨æœ€é©åŒ–
- **å€‰åº«ç®¡ç†è€…**: åœ¨åº«ãƒ¬ãƒ™ãƒ«ã®èª¿æ•´ã¨å€‰åº«é‹å–¶åŠ¹ç‡åŒ–
- **çµŒå–¶é™£**: KPIç›£è¦–ã¨æˆ¦ç•¥çš„æ„æ€æ±ºå®š
- **AIã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢**: äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

### ğŸš€ ä¸»è¦æ©Ÿèƒ½

1. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ¨åº«ç›£è¦–**

   - ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»å€‰åº«åˆ¥ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
   - ä½åœ¨åº«ãƒ»éå‰°åœ¨åº«ã®è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆ
   - åœ¨åº«å›è»¢ç‡ã¨ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

2. **é…é€ãƒ»ç‰©æµè¿½è·¡**

   - åœ°å›³ä¸Šã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…é€çŠ¶æ³è¡¨ç¤º
   - é…é€ãƒ«ãƒ¼ãƒˆã®å¯è¦–åŒ–
   - é…å»¶ã‚¢ãƒ©ãƒ¼ãƒˆã¨é…é€åŠ¹ç‡æŒ‡æ¨™

3. **AIäºˆæ¸¬åˆ†æ**

   - éœ€è¦äºˆæ¸¬ï¼ˆ7æ—¥ã€œ365æ—¥ï¼‰
   - ãƒ«ãƒ¼ãƒˆæœ€é©åŒ–ææ¡ˆ
   - åœ¨åº«æœ€é©åŒ–ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
   - ã‚³ã‚¹ãƒˆå‰Šæ¸›ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

4. **å€‰åº«é‹å–¶ç®¡ç†**
   - å€‰åº«ä½¿ç”¨ç‡ã®ç›£è¦–
   - å®¹é‡ç®¡ç†ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ
   - ä½œæ¥­åŠ¹ç‡æŒ‡æ¨™

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   Backend API    â”‚    â”‚   Database      â”‚
â”‚   (SvelteKit)   â”‚â—„â”€â”€â–ºâ”‚   (REST/WS)      â”‚â—„â”€â”€â–ºâ”‚   (MySQL/       â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚    PostgreSQL)  â”‚
â”‚   - Dashboard   â”‚    â”‚   - Inventory    â”‚    â”‚                 â”‚
â”‚   - Realtime    â”‚    â”‚   - Logistics    â”‚    â”‚   - Warehouses  â”‚
â”‚   - Analytics   â”‚    â”‚   - Analytics    â”‚    â”‚   - Inventory   â”‚
â”‚                 â”‚    â”‚   - Predictions  â”‚    â”‚   - Deliveries  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   External APIs  â”‚
                       â”‚                  â”‚
                       â”‚   - Maps API     â”‚
                       â”‚   - ML Platform  â”‚
                       â”‚   - IoT Sensors  â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

1. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿åé›†**

   - IoTã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰ã®åœ¨åº«ãƒ¬ãƒ™ãƒ«
   - GPSè¿½è·¡ã«ã‚ˆã‚‹é…é€ä½ç½®
   - å€‰åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã®å…¥å‡ºè·æƒ…å ±

2. **ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ»åˆ†æ**

   - ãƒãƒƒãƒå‡¦ç†ã«ã‚ˆã‚‹å±¥æ­´ãƒ‡ãƒ¼ã‚¿åˆ†æ
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ãƒˆãƒªãƒ¼ãƒ å‡¦ç†
   - æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«å®Ÿè¡Œ

3. **UIæ›´æ–°**
   - WebSocketçµŒç”±ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
   - å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ãƒªãƒ³ã‚°
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å¾Œã®å³åº§æ›´æ–°

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Frontend**: SvelteKit 2.16+, Svelte 5 (runes)
- **UI Framework**: DaisyUI 5.0.35+, Tailwind CSS 4.1.7
- **çŠ¶æ…‹ç®¡ç†**: Svelte stores + reactive statements
- **é€šä¿¡**: Fetch API, WebSocket
- **åœ°å›³è¡¨ç¤º**: è»½é‡åœ°å›³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆæœ¬ç•ªã§ã¯ Mapbox/Google Mapsï¼‰
- **ãƒãƒ£ãƒ¼ãƒˆ**: CSS Grid + SVGï¼ˆæœ¬ç•ªã§ã¯ Chart.js/D3.jsæ¨å¥¨ï¼‰

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
src/routes/sample/dashboards/04/
â”œâ”€â”€ README.md                    # æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ +page.svelte                 # ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”œâ”€â”€ config.js                    # è¨­å®šãƒ»å®šæ•°
â”œâ”€â”€ InventoryHeatmap.svelte      # åœ¨åº«ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ DeliveryMap.svelte          # é…é€ãƒãƒƒãƒ—ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ WarehouseStatus.svelte      # å€‰åº«çŠ¶æ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ AnalyticsPanel.svelte       # AIåˆ†æãƒ‘ãƒãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â””â”€â”€ services/
    â”œâ”€â”€ dataService.js          # ãƒ‡ãƒ¼ã‚¿å–å¾—çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
    â””â”€â”€ mockDataService.js      # ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆé–‹ç™ºç”¨ï¼‰
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ€æƒ³

1. **å˜ä¸€è²¬ä»»ã®åŸå‰‡**: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç‰¹å®šã®æ©Ÿèƒ½é ˜åŸŸã«é›†ä¸­
2. **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼**: è¦ªâ†’å­ã®propsã€å­â†’è¦ªã®ã‚¤ãƒ™ãƒ³ãƒˆ
3. **ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£**: Svelte 5ã®runesã‚’æ´»ç”¨ã—ãŸåŠ¹ç‡çš„ãªæ›´æ–°
4. **å†åˆ©ç”¨æ€§**: æ±ç”¨çš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯libãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ç®¡ç†

## è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### åŸºæœ¬è¨­å®š (config.js)

```javascript
export const config = {
	// ãƒ¢ãƒƒã‚¯/æœ¬ç•ªåˆ‡ã‚Šæ›¿ãˆ
	USE_MOCK_DATA: true,

	// APIè¨­å®š
	API_ENDPOINTS: {
		WAREHOUSES: '/api/v1/warehouses',
		INVENTORY: '/api/v1/inventory'
		// ...
	},

	// ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥é–“éš”
	REFRESH_INTERVALS: {
		DELIVERY_TRACKING: 15000,
		INVENTORY_LEVELS: 60000
		// ...
	}
};
```

### ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ãƒ©ã‚°

é–‹ç™ºãƒ»æœ¬ç•ªãƒ»A/Bãƒ†ã‚¹ãƒˆç”¨ã®æ©Ÿèƒ½åˆ‡ã‚Šæ›¿ãˆï¼š

```javascript
export const featureFlags = {
	SHOW_REAL_TIME_TRACKING: { enabled: true },
	ENABLE_AI_OPTIMIZATION: { enabled: false },
	SHOW_SAMPLE_DELIVERIES: { enabled: config.USE_MOCK_DATA, mockModeOnly: true }
};
```

### UIè¨­å®š

ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­å®šã‚’ä¸€å…ƒç®¡ç†ï¼š

```javascript
export const uiConfig = {
	COLORS: {
		WAREHOUSE: '#10b981',
		IN_TRANSIT: '#3b82f6'
		// ...
	},
	ANIMATIONS: {
		MAP_MARKERS: { DURATION: 2000 }
	}
};
```

## ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè§£èª¬

### 1. ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ (+page.svelte)

**æ©Ÿèƒ½**: 4ã¤ã®ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆã¨KPIè¡¨ç¤º

**ä¸»è¦æ©Ÿèƒ½**:

- æ¦‚è¦/åœ¨åº«/ç‰©æµ/åˆ†æã®4ã¤ã®ãƒ“ãƒ¥ãƒ¼
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ³ãƒãƒŠãƒ¼
- ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
- KPIæŒ‡æ¨™ã‚«ãƒ¼ãƒ‰è¡¨ç¤º

**ãƒ‡ãƒ¼ã‚¿ä¾å­˜**:

- `dataService.getAnalyticsData()` - KPIæŒ‡æ¨™
- `dataService.getAlerts()` - ã‚¢ãƒ©ãƒ¼ãƒˆæƒ…å ±
- WebSocketçµŒç”±ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°

### 2. åœ¨åº«ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ— (InventoryHeatmap.svelte)

**æ©Ÿèƒ½**: ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»å€‰åº«åˆ¥ã®åœ¨åº«ãƒ¬ãƒ™ãƒ«å¯è¦–åŒ–

**è¦–è¦šè¦ç´ **:

- ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ã«ã‚ˆã‚‹åœ¨åº«å¯†åº¦è¡¨ç¾
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ï¼ˆæ­£å¸¸/è­¦å‘Š/å±é™ºï¼‰
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã«ã‚ˆã‚‹ç¨¼åƒç‡è¡¨ç¤º
- ãƒ›ãƒãƒ¼æ™‚ã®è©³ç´°ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—

**ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**:

- ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- ã‚»ãƒ«é¸æŠã«ã‚ˆã‚‹è©³ç´°è¡¨ç¤º
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°

### 3. é…é€ãƒãƒƒãƒ— (DeliveryMap.svelte)

**æ©Ÿèƒ½**: åœ°ç†çš„é…é€çŠ¶æ³ã®ç›£è¦–

**è¡¨ç¤ºè¦ç´ **:

- ç–‘ä¼¼åœ°å›³ã‚°ãƒªãƒƒãƒ‰
- é…é€è»Šä¸¡ã®ç¾åœ¨ä½ç½®
- ãƒ«ãƒ¼ãƒˆè¡¨ç¤º
- é…é€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã‚«ãƒ©ãƒ¼ãƒªãƒ³ã‚°

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™**:

- é…é€ä¸­/å®Œäº†/é…å»¶ã®ä»¶æ•°
- å¹³å‡é…é€æ™‚é–“
- ç‡ƒè²»åŠ¹ç‡

### 4. å€‰åº«çŠ¶æ³ (WarehouseStatus.svelte)

**æ©Ÿèƒ½**: å€‰åº«ä½¿ç”¨ç‡ã¨é‹å–¶çŠ¶æ³ç›£è¦–

**è¡¨ç¤ºå†…å®¹**:

- ä½¿ç”¨ç‡ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
- å®¹é‡æƒ…å ±ï¼ˆç·å®¹é‡/åˆ©ç”¨å¯èƒ½å®¹é‡ï¼‰
- è²¬ä»»è€…æƒ…å ±
- æœˆé–“å‡¦ç†é‡
- ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º

**è¡¨ç¤ºåˆ¶å¾¡**:

- æ¦‚è¦è¡¨ç¤ºï¼ˆ6å€‰åº«ï¼‰+ ã€Œã™ã¹ã¦è¡¨ç¤ºã€ãƒœã‚¿ãƒ³
- è©³ç´°æƒ…å ±ã®å±•é–‹è¡¨ç¤º

### 5. AIåˆ†æãƒ‘ãƒãƒ« (AnalyticsPanel.svelte)

**æ©Ÿèƒ½**: AIé§†å‹•ã®äºˆæ¸¬åˆ†æã¨æœ€é©åŒ–ææ¡ˆ

**åˆ†æã‚¿ã‚¤ãƒ—**:

1. **éœ€è¦äºˆæ¸¬**: å•†å“åˆ¥éœ€è¦ãƒˆãƒ¬ãƒ³ãƒ‰ã€å£²ä¸Šäºˆæ¸¬
2. **ãƒ«ãƒ¼ãƒˆæœ€é©åŒ–**: é…é€è·é›¢å‰Šæ¸›ã€ã‚³ã‚¹ãƒˆåŠ¹ç‡åŒ–
3. **åœ¨åº«æœ€é©åŒ–**: é©æ­£åœ¨åº«ãƒ¬ãƒ™ãƒ«ææ¡ˆ
4. **ã‚³ã‚¹ãƒˆåˆ†æ**: å‰Šæ¸›å¯èƒ½é ˜åŸŸã®ç‰¹å®š

**å®Ÿè¡Œå¯èƒ½ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:

- åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®šæœ€é©åŒ–
- é…é€ãƒ«ãƒ¼ãƒˆçµ±åˆ
- å­£ç¯€å•†å“äº‹å‰ç™ºæ³¨
- å€‰åº«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ”¹å–„

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆè©³ç´°

### æ ¸å¿ƒãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ

#### 1. åœ°åŸŸãƒã‚¹ã‚¿ãƒ¼ (locations)

```sql
CREATE TABLE locations (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,
  prefecture VARCHAR(50),
  latitude DECIMAL(10,7) NOT NULL,
  longitude DECIMAL(10,7) NOT NULL,
  timezone VARCHAR(50) DEFAULT 'Asia/Tokyo',
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  INDEX idx_coordinates (latitude, longitude),
  INDEX idx_prefecture (prefecture)
);
```

#### 2. å€‰åº«ãƒã‚¹ã‚¿ãƒ¼ (warehouses)

```sql
CREATE TABLE warehouses (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(200) NOT NULL,
  code VARCHAR(50) UNIQUE NOT NULL,
  location_id BIGINT REFERENCES locations(id),
  address TEXT,
  capacity INTEGER NOT NULL,
  current_utilization DECIMAL(5,2) DEFAULT 0,
  manager_id BIGINT REFERENCES employees(id),
  status ENUM('active', 'maintenance', 'closed') DEFAULT 'active',
  monthly_throughput INTEGER,
  categories JSON COMMENT 'å–ã‚Šæ‰±ã„ã‚«ãƒ†ã‚´ãƒªIDé…åˆ—',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  INDEX idx_status (status),
  INDEX idx_location (location_id),
  INDEX idx_utilization (current_utilization)
);
```

#### 3. å•†å“ã‚«ãƒ†ã‚´ãƒª (product_categories)

```sql
CREATE TABLE product_categories (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  code VARCHAR(50) UNIQUE NOT NULL,
  name VARCHAR(100) NOT NULL,
  icon VARCHAR(10),
  color VARCHAR(20),
  turnover_type ENUM('low', 'medium', 'high', 'seasonal'),
  parent_id BIGINT REFERENCES product_categories(id),
  display_order INTEGER DEFAULT 0,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  INDEX idx_parent (parent_id),
  INDEX idx_active_order (is_active, display_order)
);
```

#### 4. ãƒ–ãƒ©ãƒ³ãƒ‰ãƒã‚¹ã‚¿ãƒ¼ (brands)

```sql
CREATE TABLE brands (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,
  country VARCHAR(50),
  logo_url VARCHAR(255),
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  INDEX idx_country (country),
  INDEX idx_active (is_active)
);
```

#### 5. å•†å“ãƒã‚¹ã‚¿ãƒ¼ (products)

```sql
CREATE TABLE products (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  sku VARCHAR(100) UNIQUE NOT NULL,
  name VARCHAR(300) NOT NULL,
  category_id BIGINT REFERENCES product_categories(id),
  brand_id BIGINT REFERENCES brands(id),
  unit_cost DECIMAL(10,2),
  unit_price DECIMAL(10,2),
  weight DECIMAL(8,3) COMMENT 'kg',
  dimensions JSON COMMENT 'width, height, depth in cm',
  turnover_rate DECIMAL(5,2) COMMENT 'æœˆé–“å›è»¢ç‡',
  min_stock_threshold INTEGER DEFAULT 10,
  max_stock_threshold INTEGER DEFAULT 1000,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  INDEX idx_category (category_id),
  INDEX idx_brand (brand_id),
  INDEX idx_sku (sku),
  INDEX idx_turnover (turnover_rate),
  FULLTEXT idx_name_search (name)
);
```

#### 6. åœ¨åº«ç®¡ç† (inventory)

```sql
CREATE TABLE inventory (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  warehouse_id BIGINT REFERENCES warehouses(id),
  product_id BIGINT REFERENCES products(id),
  current_stock INTEGER NOT NULL DEFAULT 0,
  reserved_stock INTEGER DEFAULT 0,
  available_stock INTEGER GENERATED ALWAYS AS (current_stock - reserved_stock) STORED,
  minimum_threshold INTEGER,
  maximum_threshold INTEGER,
  reorder_point INTEGER,
  stock_level ENUM('normal', 'low', 'critical', 'out_of_stock', 'overstock') DEFAULT 'normal',
  last_movement_at TIMESTAMP,
  turnover_days INTEGER COMMENT 'åœ¨åº«å›è»¢æ—¥æ•°',
  cost_value DECIMAL(12,2) COMMENT 'åœ¨åº«è©•ä¾¡é¡',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  UNIQUE KEY idx_warehouse_product (warehouse_id, product_id),
  INDEX idx_stock_level (stock_level),
  INDEX idx_low_stock (warehouse_id, stock_level, current_stock),
  INDEX idx_movement_time (last_movement_at),
  INDEX idx_available_stock (available_stock)
);
```

#### 7. å¾“æ¥­å“¡ãƒã‚¹ã‚¿ãƒ¼ (employees)

```sql
CREATE TABLE employees (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  employee_code VARCHAR(20) UNIQUE NOT NULL,
  name VARCHAR(100) NOT NULL,
  department ENUM('logistics', 'warehouse', 'admin', 'management'),
  position VARCHAR(50),
  email VARCHAR(255),
  phone VARCHAR(20),
  hire_date DATE,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  INDEX idx_department (department),
  INDEX idx_active (is_active)
);
```

#### 8. è»Šä¸¡ãƒã‚¹ã‚¿ãƒ¼ (vehicles)

```sql
CREATE TABLE vehicles (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  license_plate VARCHAR(20) UNIQUE NOT NULL,
  vehicle_type ENUM('truck', 'van', 'motorcycle') NOT NULL,
  capacity_kg DECIMAL(8,2),
  capacity_m3 DECIMAL(6,2),
  fuel_efficiency DECIMAL(4,2) COMMENT 'km/L',
  driver_id BIGINT REFERENCES employees(id),
  current_status ENUM('available', 'in_use', 'maintenance', 'repair') DEFAULT 'available',
  current_lat DECIMAL(10,7),
  current_lng DECIMAL(10,7),
  last_maintenance_date DATE,
  next_maintenance_date DATE,
  total_mileage INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  INDEX idx_status (current_status),
  INDEX idx_driver (driver_id),
  INDEX idx_type (vehicle_type),
  INDEX idx_location (current_lat, current_lng),
  INDEX idx_maintenance (next_maintenance_date)
);
```

#### 9. é…é€ç®¡ç† (deliveries)

```sql
CREATE TABLE deliveries (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  order_id VARCHAR(50) NOT NULL,
  vehicle_id BIGINT REFERENCES vehicles(id),
  warehouse_id BIGINT REFERENCES warehouses(id),
  status ENUM('pending', 'assigned', 'picked_up', 'in_transit', 'delivered', 'delayed', 'failed', 'cancelled') DEFAULT 'pending',
  priority ENUM('low', 'normal', 'high', 'urgent') DEFAULT 'normal',

  -- é…é€å…ˆæƒ…å ±
  destination_name VARCHAR(200) NOT NULL,
  destination_address TEXT NOT NULL,
  destination_lat DECIMAL(10,7) NOT NULL,
  destination_lng DECIMAL(10,7) NOT NULL,
  destination_phone VARCHAR(20),

  -- ä½ç½®ãƒ»æ™‚é–“æƒ…å ±
  current_lat DECIMAL(10,7),
  current_lng DECIMAL(10,7),
  total_distance_km DECIMAL(8,2),
  estimated_distance_km DECIMAL(8,2),
  estimated_duration_minutes INTEGER,

  -- æ™‚åˆ»æƒ…å ±
  scheduled_pickup_time TIMESTAMP,
  actual_pickup_time TIMESTAMP,
  estimated_arrival_time TIMESTAMP,
  actual_arrival_time TIMESTAMP,

  -- è·ç‰©æƒ…å ±
  total_items INTEGER DEFAULT 1,
  total_weight_kg DECIMAL(8,2),
  total_volume_m3 DECIMAL(6,3),

  -- æ–™é‡‘æƒ…å ±
  delivery_fee DECIMAL(8,2),
  fuel_cost DECIMAL(6,2),
  driver_fee DECIMAL(6,2),

  -- ç‰¹è¨˜äº‹é …
  special_instructions TEXT,
  delivery_notes TEXT,

  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  INDEX idx_status_time (status, created_at DESC),
  INDEX idx_vehicle_status (vehicle_id, status),
  INDEX idx_warehouse (warehouse_id),
  INDEX idx_location (current_lat, current_lng),
  INDEX idx_priority_status (priority, status),
  INDEX idx_delivery_time (scheduled_pickup_time, estimated_arrival_time),
  INDEX idx_order (order_id)
);
```

#### 10. åœ¨åº«ç§»å‹•å±¥æ­´ (inventory_movements)

```sql
CREATE TABLE inventory_movements (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  warehouse_id BIGINT REFERENCES warehouses(id),
  product_id BIGINT REFERENCES products(id),
  movement_type ENUM('inbound', 'outbound', 'transfer', 'adjustment', 'return', 'damage') NOT NULL,
  quantity INTEGER NOT NULL,
  unit_cost DECIMAL(10,2),
  total_value DECIMAL(12,2),
  previous_stock INTEGER,
  new_stock INTEGER,

  -- é–¢é€£æƒ…å ±
  reference_type ENUM('order', 'delivery', 'transfer', 'adjustment', 'return'),
  reference_id BIGINT,
  batch_number VARCHAR(50),
  expiry_date DATE,

  -- å®Ÿè¡Œæƒ…å ±
  reason TEXT,
  performed_by BIGINT REFERENCES employees(id),
  performed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  approved_by BIGINT REFERENCES employees(id),
  approved_at TIMESTAMP,

  INDEX idx_warehouse_product (warehouse_id, product_id),
  INDEX idx_performed_time (performed_at DESC),
  INDEX idx_movement_type (movement_type),
  INDEX idx_reference (reference_type, reference_id),
  INDEX idx_batch (batch_number),
  INDEX idx_performer (performed_by)
);
```

#### 11. ã‚¢ãƒ©ãƒ¼ãƒˆç®¡ç† (alerts)

```sql
CREATE TABLE alerts (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  type VARCHAR(50) NOT NULL COMMENT 'LOW_STOCK, DELIVERY_DELAY, WAREHOUSE_CAPACITY, etc.',
  category ENUM('inventory', 'delivery', 'warehouse', 'vehicle', 'system') NOT NULL,
  priority ENUM('low', 'medium', 'high', 'critical') NOT NULL,
  title VARCHAR(200) NOT NULL,
  message TEXT NOT NULL,

  -- é–¢é€£ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
  warehouse_id BIGINT REFERENCES warehouses(id),
  product_id BIGINT REFERENCES products(id),
  delivery_id BIGINT REFERENCES deliveries(id),
  vehicle_id BIGINT REFERENCES vehicles(id),

  -- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†
  status ENUM('active', 'acknowledged', 'resolved', 'ignored') DEFAULT 'active',
  acknowledged_by BIGINT REFERENCES employees(id),
  acknowledged_at TIMESTAMP,
  resolved_by BIGINT REFERENCES employees(id),
  resolved_at TIMESTAMP,

  -- è‡ªå‹•è§£æ±ºè¨­å®š
  auto_resolve BOOLEAN DEFAULT FALSE,
  resolve_condition JSON COMMENT 'è‡ªå‹•è§£æ±ºæ¡ä»¶',

  -- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  severity_score INTEGER DEFAULT 50 COMMENT '1-100',
  tags JSON COMMENT 'ã‚¿ã‚°é…åˆ—',
  metadata JSON COMMENT 'è¿½åŠ ãƒ‡ãƒ¼ã‚¿',

  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  INDEX idx_priority_status (priority, status, created_at DESC),
  INDEX idx_category_type (category, type),
  INDEX idx_unacknowledged (status, priority) WHERE status = 'active',
  INDEX idx_entity_warehouse (warehouse_id, status),
  INDEX idx_entity_product (product_id, status),
  INDEX idx_entity_delivery (delivery_id, status),
  INDEX idx_severity (severity_score DESC),
  INDEX idx_created_time (created_at DESC)
);
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

```sql
-- åœ¨åº«ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ç”¨ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_inventory_heatmap
ON inventory(warehouse_id, stock_level, current_stock)
INCLUDE (product_id, updated_at);

-- é…é€è¿½è·¡ç”¨ã®åœ°ç†ç©ºé–“ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE SPATIAL INDEX idx_delivery_location
ON deliveries(POINT(current_lng, current_lat));

-- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ç”¨ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_recent_updates
ON inventory(updated_at DESC)
WHERE updated_at > NOW() - INTERVAL 1 HOUR;

-- åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆç”Ÿæˆç”¨
CREATE INDEX idx_low_stock_detection
ON inventory(warehouse_id, product_id, current_stock, minimum_threshold)
WHERE stock_level IN ('low', 'critical', 'out_of_stock');

-- é…é€åŠ¹ç‡åˆ†æç”¨
CREATE INDEX idx_delivery_performance
ON deliveries(status, actual_arrival_time, estimated_arrival_time)
WHERE status = 'delivered';
```

### ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…

#### 1. åœ¨åº«ãƒ¬ãƒ™ãƒ«è‡ªå‹•æ›´æ–°ãƒˆãƒªã‚¬ãƒ¼

```sql
DELIMITER $$
CREATE TRIGGER update_stock_level
BEFORE UPDATE ON inventory
FOR EACH ROW
BEGIN
  DECLARE min_threshold INT DEFAULT 0;
  DECLARE max_threshold INT DEFAULT 999999;

  -- å•†å“å›ºæœ‰ã®é–¾å€¤ã‚’å–å¾—
  SELECT
    COALESCE(NEW.minimum_threshold, p.min_stock_threshold, 10),
    COALESCE(NEW.maximum_threshold, p.max_stock_threshold, 1000)
  INTO min_threshold, max_threshold
  FROM products p
  WHERE p.id = NEW.product_id;

  -- åœ¨åº«ãƒ¬ãƒ™ãƒ«ã‚’è‡ªå‹•åˆ¤å®š
  SET NEW.stock_level = CASE
    WHEN NEW.current_stock = 0 THEN 'out_of_stock'
    WHEN NEW.current_stock <= min_threshold * 0.5 THEN 'critical'
    WHEN NEW.current_stock <= min_threshold THEN 'low'
    WHEN NEW.current_stock >= max_threshold THEN 'overstock'
    ELSE 'normal'
  END;

  -- åœ¨åº«è©•ä¾¡é¡ã‚’æ›´æ–°
  SET NEW.cost_value = NEW.current_stock * (
    SELECT COALESCE(unit_cost, 0) FROM products WHERE id = NEW.product_id
  );

  SET NEW.updated_at = CURRENT_TIMESTAMP;
END$$
DELIMITER ;
```

#### 2. é…é€é…å»¶è‡ªå‹•æ¤œçŸ¥

```sql
DELIMITER $$
CREATE EVENT delivery_delay_detection
ON SCHEDULE EVERY 5 MINUTE
DO
BEGIN
  -- é…å»¶é…é€ã®æ¤œå‡ºã¨æ›´æ–°
  UPDATE deliveries
  SET status = 'delayed'
  WHERE status = 'in_transit'
    AND estimated_arrival_time < NOW() - INTERVAL 15 MINUTE
    AND status != 'delayed';

  -- é…å»¶ã‚¢ãƒ©ãƒ¼ãƒˆã®ç”Ÿæˆ
  INSERT INTO alerts (type, category, priority, title, message, delivery_id)
  SELECT
    'DELIVERY_DELAY',
    'delivery',
    CASE
      WHEN d.priority = 'urgent' THEN 'critical'
      WHEN d.priority = 'high' THEN 'high'
      ELSE 'medium'
    END,
    CONCAT('é…é€é…å»¶: ', d.order_id),
    CONCAT('é…é€ID ', d.order_id, ' ãŒ ',
           TIMESTAMPDIFF(MINUTE, d.estimated_arrival_time, NOW()),
           'åˆ†é…å»¶ã—ã¦ã„ã¾ã™'),
    d.id
  FROM deliveries d
  WHERE d.status = 'delayed'
    AND NOT EXISTS (
      SELECT 1 FROM alerts a
      WHERE a.type = 'DELIVERY_DELAY'
        AND a.delivery_id = d.id
        AND a.status = 'active'
    );
END$$
DELIMITER ;
```

#### 3. å€‰åº«ä½¿ç”¨ç‡ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆç®—

```sql
DELIMITER $$
CREATE FUNCTION calculate_warehouse_utilization(warehouse_id_param BIGINT)
RETURNS DECIMAL(5,2)
READS SQL DATA
DETERMINISTIC
BEGIN
  DECLARE total_weight DECIMAL(12,2) DEFAULT 0;
  DECLARE warehouse_capacity INT DEFAULT 0;
  DECLARE utilization_rate DECIMAL(5,2) DEFAULT 0;

  -- å€‰åº«å®¹é‡ã‚’å–å¾—
  SELECT capacity INTO warehouse_capacity
  FROM warehouses
  WHERE id = warehouse_id_param;

  -- ç·é‡é‡ã‚’è¨ˆç®—
  SELECT COALESCE(SUM(i.current_stock * p.weight), 0)
  INTO total_weight
  FROM inventory i
  JOIN products p ON i.product_id = p.id
  WHERE i.warehouse_id = warehouse_id_param;

  -- ä½¿ç”¨ç‡ã‚’è¨ˆç®—ï¼ˆé‡é‡ãƒ™ãƒ¼ã‚¹ï¼‰
  IF warehouse_capacity > 0 THEN
    SET utilization_rate = (total_weight / warehouse_capacity) * 100;
  END IF;

  RETURN LEAST(utilization_rate, 100.00);
END$$
DELIMITER ;
```

### ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§åˆ¶ç´„

```sql
-- åœ¨åº«æ•°ã®è«–ç†ãƒã‚§ãƒƒã‚¯
ALTER TABLE inventory
ADD CONSTRAINT chk_stock_positive
CHECK (current_stock >= 0 AND reserved_stock >= 0);

-- é…é€åº§æ¨™ã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯
ALTER TABLE deliveries
ADD CONSTRAINT chk_destination_coordinates
CHECK (destination_lat BETWEEN -90 AND 90 AND destination_lng BETWEEN -180 AND 180);

-- è»Šä¸¡å®¹é‡ã®è«–ç†ãƒã‚§ãƒƒã‚¯
ALTER TABLE vehicles
ADD CONSTRAINT chk_vehicle_capacity
CHECK (capacity_kg > 0 AND capacity_m3 > 0);

-- ã‚¢ãƒ©ãƒ¼ãƒˆé‡è¦åº¦ã®å¦¥å½“æ€§
ALTER TABLE alerts
ADD CONSTRAINT chk_severity_score
CHECK (severity_score BETWEEN 1 AND 100);
```

### ãƒ‡ãƒ¼ã‚¿ä¿æŒãƒ»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒãƒªã‚·ãƒ¼

```sql
-- å¤ã„åœ¨åº«ç§»å‹•å±¥æ­´ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆ6ãƒ¶æœˆä»¥ä¸Šï¼‰
CREATE TABLE inventory_movements_archive LIKE inventory_movements;

-- æœˆæ¬¡ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚¸ãƒ§ãƒ–
DELIMITER $$
CREATE EVENT archive_old_movements
ON SCHEDULE EVERY 1 MONTH
DO
BEGIN
  -- ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç§»å‹•
  INSERT INTO inventory_movements_archive
  SELECT * FROM inventory_movements
  WHERE performed_at < NOW() - INTERVAL 6 MONTH;

  -- å…ƒãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å‰Šé™¤
  DELETE FROM inventory_movements
  WHERE performed_at < NOW() - INTERVAL 6 MONTH;
END$$
DELIMITER ;
```

---

## ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒã‚¤ãƒ³ãƒˆã¨Tips

### UI ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### 1. ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã®ã‚«ãƒ©ãƒ¼ãƒªãƒ³ã‚°å¤‰æ›´

æ¥­ç•Œã‚„ç”¨é€”ã«å¿œã˜ã¦è‰²å½©ã‚’èª¿æ•´ï¼š

```javascript
// config.js ã§ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’å®šç¾©
export const INDUSTRY_COLORS = {
	medical: {
		normal: 'rgba(34, 197, 94, 0.6)', // åŒ»ç™‚ç”¨å“ - ç·‘
		warning: 'rgba(251, 191, 36, 0.6)', // è­¦å‘Š - é»„
		critical: 'rgba(239, 68, 68, 0.6)' // ç·Šæ€¥ - èµ¤
	},
	food: {
		normal: 'rgba(59, 130, 246, 0.6)', // é£Ÿå“ - é’
		warning: 'rgba(245, 158, 11, 0.6)', // è­¦å‘Š - ã‚ªãƒ¬ãƒ³ã‚¸
		critical: 'rgba(220, 38, 127, 0.6)' // æœŸé™åˆ‡ã‚Œ - ãƒ”ãƒ³ã‚¯
	},
	fashion: {
		normal: 'rgba(168, 85, 247, 0.6)', // ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ - ç´«
		warning: 'rgba(236, 72, 153, 0.6)', // è­¦å‘Š - ãƒ”ãƒ³ã‚¯
		critical: 'rgba(239, 68, 68, 0.6)' // åœ¨åº«åˆ‡ã‚Œ - èµ¤
	}
};

// InventoryHeatmap.svelte ã§ä½¿ç”¨
function getIntensityColor(intensity, alertLevel, industry = 'medical') {
	const colors = INDUSTRY_COLORS[industry];
	if (alertLevel > 0.3) return colors.critical;
	if (alertLevel > 0.1) return colors.warning;
	return colors.normal;
}
```

#### 2. ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆãƒ«ãƒ¼ãƒ«

æ¥­å‹™ã«ç‰¹åŒ–ã—ãŸã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶ï¼š

```javascript
// config.js ã§ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«å®šç¾©
export const CUSTOM_ALERT_RULES = {
	// åŒ»ç™‚æ©Ÿå™¨ã®å ´åˆï¼ˆå³æ ¼ç®¡ç†ï¼‰
	medical_devices: {
		CRITICAL_THRESHOLD: 5, // 5å€‹ä»¥ä¸‹ã§å±é™º
		LOW_THRESHOLD: 20, // 20å€‹ä»¥ä¸‹ã§è­¦å‘Š
		EXPIRY_WARNING_DAYS: 30 // æœŸé™30æ—¥å‰ã§è­¦å‘Š
	},
	// å­£ç¯€å•†å“ã®å ´åˆ
	seasonal_items: {
		CRITICAL_THRESHOLD: 0, // å£²ã‚Šåˆ‡ã‚Œè¨±å®¹
		LOW_THRESHOLD: 50, // å¤šã‚ã®åœ¨åº«
		SEASON_END_CLEARANCE: 90 // ã‚·ãƒ¼ã‚ºãƒ³çµ‚äº†90æ—¥å‰ã‹ã‚‰å‡¦åˆ†ã‚»ãƒ¼ãƒ«
	},
	// é«˜ä¾¡æ ¼å•†å“ã®å ´åˆ
	luxury_goods: {
		CRITICAL_THRESHOLD: 1, // 1å€‹ã§ã‚‚åœ¨åº«ç¢ºä¿
		LOW_THRESHOLD: 3, // 3å€‹ä»¥ä¸‹ã§ç™ºæ³¨
		COST_THRESHOLD: 100000 // 10ä¸‡å††ä»¥ä¸Šã¯ç‰¹åˆ¥ç®¡ç†
	}
};

// ã‚¢ãƒ©ãƒ¼ãƒˆç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
function generateCustomAlert(inventory, rules) {
	const alerts = [];

	// åœ¨åº«ãƒ¬ãƒ™ãƒ«ãƒã‚§ãƒƒã‚¯
	if (inventory.current_stock <= rules.CRITICAL_THRESHOLD) {
		alerts.push({
			type: 'CRITICAL_STOCK',
			priority: 'critical',
			message: `ç·Šæ€¥: ${inventory.product.name} ã®åœ¨åº«ãŒ${rules.CRITICAL_THRESHOLD}å€‹ä»¥ä¸‹ã§ã™`
		});
	}

	// æœŸé™ãƒã‚§ãƒƒã‚¯ï¼ˆé£Ÿå“ãƒ»åŒ»ç™‚æ©Ÿå™¨ç”¨ï¼‰
	if (rules.EXPIRY_WARNING_DAYS && inventory.expiry_date) {
		const daysToExpiry = Math.floor(
			(new Date(inventory.expiry_date) - new Date()) / (1000 * 60 * 60 * 24)
		);
		if (daysToExpiry <= rules.EXPIRY_WARNING_DAYS) {
			alerts.push({
				type: 'EXPIRY_WARNING',
				priority: 'high',
				message: `${inventory.product.name} ãŒ${daysToExpiry}æ—¥å¾Œã«æœŸé™åˆ‡ã‚Œã§ã™`
			});
		}
	}

	return alerts;
}
```

#### 3. åœ°å›³è¡¨ç¤ºã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

é…é€ã‚¨ãƒªã‚¢ã‚„è¡¨ç¤ºã‚¹ã‚¿ã‚¤ãƒ«ã®èª¿æ•´ï¼š

```javascript
// DeliveryMap.svelte ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹

// é…é€ã‚¨ãƒªã‚¢ã®è¨­å®š
const DELIVERY_AREAS = {
	metropolitan: {
		center: { lat: 35.6762, lng: 139.6503 },
		zoom: 11,
		gridSize: 20,
		maxDistance: 30 // 30kmåœå†…
	},
	regional: {
		center: { lat: 35.0116, lng: 135.7681 },
		zoom: 9,
		gridSize: 15,
		maxDistance: 50 // 50kmåœå†…
	},
	nationwide: {
		center: { lat: 36.2048, lng: 138.2529 },
		zoom: 6,
		gridSize: 10,
		maxDistance: 500 // 500kmåœå†…
	}
};

// é…é€çŠ¶æ³ã®å¯è¦–åŒ–ã‚¹ã‚¿ã‚¤ãƒ«
function getDeliveryPointStyle(delivery) {
	const baseStyle = {
		width: '12px',
		height: '12px',
		borderRadius: '50%',
		border: '2px solid white',
		boxShadow: '0 2px 4px rgba(0,0,0,0.3)'
	};

	switch (delivery.status) {
		case 'pending':
			return { ...baseStyle, backgroundColor: '#6b7280' };
		case 'in_transit':
			return {
				...baseStyle,
				backgroundColor: '#3b82f6',
				animation: 'pulse 2s infinite'
			};
		case 'delivered':
			return { ...baseStyle, backgroundColor: '#10b981' };
		case 'delayed':
			return {
				...baseStyle,
				backgroundColor: '#ef4444',
				animation: 'bounce 1s infinite'
			};
		default:
			return baseStyle;
	}
}
```

### ãƒ‡ãƒ¼ã‚¿é€£æºã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### 1. å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº

æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼š

```javascript
// services/externalIntegration.js

// ERP ã‚·ã‚¹ãƒ†ãƒ é€£æº
export async function syncWithERP() {
	const response = await fetch('/api/erp/sync', {
		method: 'POST',
		headers: {
			Authorization: `Bearer ${getERPToken()}`,
			'Content-Type': 'application/json'
		},
		body: JSON.stringify({
			sync_types: ['inventory', 'orders', 'products'],
			last_sync: localStorage.getItem('last_erp_sync')
		})
	});

	if (response.ok) {
		const data = await response.json();
		localStorage.setItem('last_erp_sync', new Date().toISOString());
		return data;
	}
	throw new Error('ERP sync failed');
}

// WMS (Warehouse Management System) é€£æº
export async function syncWarehouseData(warehouseId) {
	const response = await fetch(`/api/wms/warehouse/${warehouseId}/sync`, {
		headers: {
			Authorization: `Bearer ${getWMSToken()}`
		}
	});

	if (response.ok) {
		return await response.json();
	}
	throw new Error('WMS sync failed');
}

// IoT ã‚»ãƒ³ã‚µãƒ¼é€£æº
export function subscribeToIoTUpdates(callback) {
	const eventSource = new EventSource('/api/iot/stream');

	eventSource.onmessage = (event) => {
		const data = JSON.parse(event.data);
		callback(data);
	};

	eventSource.onerror = (error) => {
		console.error('IoT stream error:', error);
		// å†æ¥ç¶šãƒ­ã‚¸ãƒƒã‚¯
		setTimeout(() => {
			subscribeToIoTUpdates(callback);
		}, 5000);
	};

	return () => eventSource.close();
}
```

#### 2. API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

ä¼æ¥­ç’°å¢ƒã«åˆã‚ã›ãŸã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­å®šï¼š

```javascript
// config.js ã§ã®ç’°å¢ƒåˆ¥è¨­å®š
export const API_CONFIG = {
	development: {
		BASE_URL: 'http://localhost:3000',
		API_VERSION: 'v1',
		TIMEOUT: 5000
	},
	staging: {
		BASE_URL: 'https://staging-api.company.com',
		API_VERSION: 'v1',
		TIMEOUT: 10000
	},
	production: {
		BASE_URL: 'https://api.company.com',
		API_VERSION: 'v2',
		TIMEOUT: 15000
	}
};

// ç’°å¢ƒã«å¿œã˜ãŸã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ§‹ç¯‰
function buildApiUrl(endpoint, params = {}) {
	const env = process.env.NODE_ENV || 'development';
	const config = API_CONFIG[env];
	const baseUrl = `${config.BASE_URL}/api/${config.API_VERSION}`;

	let url = `${baseUrl}${endpoint}`;

	if (Object.keys(params).length > 0) {
		const searchParams = new URLSearchParams(params);
		url += `?${searchParams.toString()}`;
	}

	return url;
}
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– Tips

#### 1. å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†

```javascript
// ä»®æƒ³åŒ–ã«ã‚ˆã‚‹å¤§é‡ã‚¢ã‚¤ãƒ†ãƒ è¡¨ç¤º
function createVirtualizedList(items, containerHeight = 400, itemHeight = 60) {
	let scrollTop = $state(0);
	const visibleCount = Math.ceil(containerHeight / itemHeight);
	const bufferSize = 5;

	const visibleItems = $derived(() => {
		const startIndex = Math.max(0, Math.floor(scrollTop / itemHeight) - bufferSize);
		const endIndex = Math.min(items.length, startIndex + visibleCount + bufferSize * 2);
		return items.slice(startIndex, endIndex).map((item, index) => ({
			...item,
			virtualIndex: startIndex + index,
			offsetY: (startIndex + index) * itemHeight
		}));
	});

	return { visibleItems, scrollTop };
}

// ãƒãƒ£ãƒ³ã‚¯å‡¦ç†ã«ã‚ˆã‚‹æ®µéšçš„ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
async function loadDataInChunks(dataLoader, chunkSize = 100) {
	let allData = [];
	let offset = 0;
	let hasMore = true;

	while (hasMore) {
		const chunk = await dataLoader({ limit: chunkSize, offset });
		allData = [...allData, ...chunk.data];
		hasMore = chunk.hasMore;
		offset += chunkSize;

		// UIæ›´æ–°ã®ãŸã‚ã®å°ä¼‘æ­¢
		await new Promise((resolve) => setTimeout(resolve, 10));
	}

	return allData;
}
```

#### 2. ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–

```javascript
// WeakMapã‚’ä½¿ç”¨ã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
const componentCache = new WeakMap();

function getCachedComponent(key, factory) {
	if (!componentCache.has(key)) {
		componentCache.set(key, factory());
	}
	return componentCache.get(key);
}

// ä¸è¦ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
class DataManager {
	constructor(maxAge = 300000) {
		// 5åˆ†
		this.cache = new Map();
		this.maxAge = maxAge;
		this.cleanupInterval = setInterval(() => this.cleanup(), 60000);
	}

	set(key, data) {
		this.cache.set(key, {
			data,
			timestamp: Date.now()
		});
	}

	get(key) {
		const entry = this.cache.get(key);
		if (!entry) return null;

		if (Date.now() - entry.timestamp > this.maxAge) {
			this.cache.delete(key);
			return null;
		}

		return entry.data;
	}

	cleanup() {
		const now = Date.now();
		for (const [key, entry] of this.cache.entries()) {
			if (now - entry.timestamp > this.maxAge) {
				this.cache.delete(key);
			}
		}
	}

	destroy() {
		clearInterval(this.cleanupInterval);
		this.cache.clear();
	}
}
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

#### 1. ãƒ‡ãƒ¼ã‚¿ä¿è­·

```javascript
// ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¼ã‚¿ã®ãƒã‚¹ã‚­ãƒ³ã‚°
function maskSensitiveData(data) {
  const sensitiveFields = ['address', 'phone', 'customer_name'];

  return data.map(item => {
    const masked = { ...item };

    sensitiveFields.forEach(field => {
      if (masked[field]) {
        // éƒ¨åˆ†ãƒã‚¹ã‚­ãƒ³ã‚°
        if (field === 'phone') {
          masked[field] = masked[field].replace(/(\d{3})(\d{4})(\d{4})/, '$1-****-$3');
        } else if (field === 'address') {
          masked[field] = masked[field].replace(/\d+/g, '***');
        } else {
          masked[field] = '***';
        }
      }
    });

    return masked;
  });
}

// æ¨©é™ãƒ™ãƒ¼ã‚¹ã®è¡¨ç¤ºåˆ¶å¾¡
function hasPermission(user, action, resource) {
  const userRole = user.role;
  const permissions = {
    admin: ['view', 'edit', 'delete'],
    manager: ['view', 'edit'],
    operator: ['view'],
    viewer: ['view']
  };

  return permissions[userRole]?.includes(action);
}

// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨ä¾‹
{#if hasPermission($currentUser, 'edit', 'inventory')}
  <button onclick={editInventory}>ç·¨é›†</button>
{/if}
```

#### 2. å…¥åŠ›å€¤æ¤œè¨¼

```javascript
// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°
export const validators = {
	stock: (value) => {
		if (typeof value !== 'number' || value < 0) {
			return 'åœ¨åº«æ•°ã¯0ä»¥ä¸Šã®æ•°å€¤ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™';
		}
		if (value > 1000000) {
			return 'åœ¨åº«æ•°ãŒä¸Šé™ã‚’è¶…ãˆã¦ã„ã¾ã™';
		}
		return null;
	},

	coordinates: (lat, lng) => {
		if (lat < -90 || lat > 90) {
			return 'ç·¯åº¦ã¯-90ã‹ã‚‰90ã®ç¯„å›²ã§å…¥åŠ›ã—ã¦ãã ã•ã„';
		}
		if (lng < -180 || lng > 180) {
			return 'çµŒåº¦ã¯-180ã‹ã‚‰180ã®ç¯„å›²ã§å…¥åŠ›ã—ã¦ãã ã•ã„';
		}
		return null;
	},

	warehouseCapacity: (capacity) => {
		if (typeof capacity !== 'number' || capacity <= 0) {
			return 'å€‰åº«å®¹é‡ã¯æ­£ã®æ•°å€¤ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™';
		}
		if (capacity > 100000) {
			return 'å€‰åº«å®¹é‡ãŒç¾å®Ÿçš„ã§ãªã„å€¤ã§ã™';
		}
		return null;
	}
};

// ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®çµ±åˆ
function createFormValidator(schema) {
	return function validate(data) {
		const errors = {};

		for (const [field, value] of Object.entries(data)) {
			if (schema[field]) {
				const error = schema[field](value);
				if (error) {
					errors[field] = error;
				}
			}
		}

		return {
			isValid: Object.keys(errors).length === 0,
			errors
		};
	};
}
```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

**1. ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ãŒè¡¨ç¤ºã•ã‚Œãªã„**

```javascript
// ãƒ‡ãƒãƒƒã‚°ç”¨è¨ºæ–­é–¢æ•°
function diagnoseHeatmapIssue() {
	console.group('ğŸ” ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—è¨ºæ–­');

	// ãƒ‡ãƒ¼ã‚¿å­˜åœ¨ç¢ºèª
	console.log('åœ¨åº«ãƒ‡ãƒ¼ã‚¿:', inventoryData?.length || 0, 'ä»¶');
	console.log('ã‚«ãƒ†ã‚´ãƒª:', categories?.length || 0, 'ç¨®é¡');
	console.log('å€‰åº«:', warehouses?.length || 0, 'ç®‡æ‰€');

	// ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç¢ºèª
	if (inventoryData?.length > 0) {
		const sample = inventoryData[0];
		console.log('ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿æ§‹é€ :', {
			hasProduct: !!sample.product,
			hasCategory: !!sample.product?.category,
			hasWarehouse: !!sample.warehouseId,
			hasStock: typeof sample.currentStock === 'number'
		});
	}

	// ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—å¤‰æ›å¾Œãƒ‡ãƒ¼ã‚¿ç¢ºèª
	console.log('ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿:', heatmapData?.length || 0, 'ã‚»ãƒ«');

	console.groupEnd();
}

// è‡ªå‹•è¨ºæ–­ãƒˆãƒªã‚¬ãƒ¼
$effect(() => {
	if (inventoryData.length > 0 && heatmapData.length === 0) {
		console.warn('âš ï¸ ãƒ‡ãƒ¼ã‚¿ã¯ã‚ã‚‹ãŒãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ãŒç©ºã§ã™');
		diagnoseHeatmapIssue();
	}
});
```

**2. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã®åœæ­¢**

```javascript
// æ¥ç¶šçŠ¶æ…‹ç›£è¦–
function createConnectionMonitor() {
	let lastUpdate = Date.now();
	let isHealthy = $state(true);

	// ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆç›£è¦–
	const healthCheck = setInterval(() => {
		const timeSinceLastUpdate = Date.now() - lastUpdate;
		const threshold = config.REFRESH_INTERVALS.DELIVERY_TRACKING * 2;

		if (timeSinceLastUpdate > threshold) {
			isHealthy = false;
			console.warn('ğŸš¨ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ãŒåœæ­¢ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™');

			// è‡ªå‹•å¾©æ—§è©¦è¡Œ
			attemptReconnection();
		}
	}, 30000); // 30ç§’ã”ã¨ã«ãƒã‚§ãƒƒã‚¯

	function recordUpdate() {
		lastUpdate = Date.now();
		isHealthy = true;
	}

	function attemptReconnection() {
		console.log('ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¥ç¶šã®å¾©æ—§ã‚’è©¦è¡Œä¸­...');
		stopRealTimeUpdates();
		setTimeout(() => {
			startRealTimeUpdates();
		}, 5000);
	}

	return {
		isHealthy,
		recordUpdate,
		destroy: () => clearInterval(healthCheck)
	};
}
```

**3. å¤§é‡ãƒ‡ãƒ¼ã‚¿ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹**

```javascript
// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
function measurePerformance(operation, threshold = 100) {
	return function (target, propertyKey, descriptor) {
		const originalMethod = descriptor.value;

		descriptor.value = async function (...args) {
			const start = performance.now();
			const result = await originalMethod.apply(this, args);
			const duration = performance.now() - start;

			if (duration > threshold) {
				console.warn(
					`âš ï¸ ${propertyKey} ãŒ${duration.toFixed(2)}ms ã‹ã‹ã‚Šã¾ã—ãŸï¼ˆé–¾å€¤: ${threshold}msï¼‰`
				);
			}

			return result;
		};

		return descriptor;
	};
}

// ä½¿ç”¨ä¾‹
class DataProcessor {
	@measurePerformance
	async processInventoryData(data) {
		// é‡ã„å‡¦ç†
		return processedData;
	}
}
```

### é–‹ç™ºãƒ»é‹ç”¨ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. ãƒ­ã‚°å‡ºåŠ›ã®æ¨™æº–åŒ–

```javascript
// æ§‹é€ åŒ–ãƒ­ã‚°
class Logger {
	static info(message, meta = {}) {
		console.log(
			JSON.stringify({
				level: 'info',
				timestamp: new Date().toISOString(),
				message,
				component: 'dashboard-04',
				...meta
			})
		);
	}

	static error(message, error, meta = {}) {
		console.error(
			JSON.stringify({
				level: 'error',
				timestamp: new Date().toISOString(),
				message,
				error: error?.stack || error,
				component: 'dashboard-04',
				...meta
			})
		);
	}
}

// ä½¿ç”¨ä¾‹
Logger.info('åœ¨åº«ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­', { warehouseId, category });
Logger.error('APIå‘¼ã³å‡ºã—ã«å¤±æ•—', apiError, { endpoint, params });
```

#### 2. ãƒ†ã‚¹ãƒˆå¯èƒ½ãªè¨­è¨ˆ

```javascript
// ãƒ†ã‚¹ã‚¿ãƒ–ãƒ«ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
export function createInventoryManager(dependencies = {}) {
	const {
		dataService = defaultDataService,
		logger = defaultLogger,
		config = defaultConfig
	} = dependencies;

	async function loadInventory(filters) {
		try {
			logger.info('åœ¨åº«èª­ã¿è¾¼ã¿é–‹å§‹', { filters });
			const data = await dataService.getInventoryData(filters);
			logger.info('åœ¨åº«èª­ã¿è¾¼ã¿å®Œäº†', { count: data.length });
			return data;
		} catch (error) {
			logger.error('åœ¨åº«èª­ã¿è¾¼ã¿å¤±æ•—', error, { filters });
			throw error;
		}
	}

	return {
		loadInventory
	};
}

// ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ¢ãƒƒã‚¯
const mockDataService = {
	getInventoryData: vi.fn().mockResolvedValue([])
};

const mockLogger = {
	info: vi.fn(),
	error: vi.fn()
};

// ãƒ†ã‚¹ãƒˆä¾‹
test('åœ¨åº«èª­ã¿è¾¼ã¿ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹', async () => {
	const manager = createInventoryManager({
		dataService: mockDataService,
		logger: mockLogger
	});

	await manager.loadInventory({ warehouseId: 1 });

	expect(mockDataService.getInventoryData).toHaveBeenCalledWith({ warehouseId: 1 });
	expect(mockLogger.info).toHaveBeenCalledWith('åœ¨åº«èª­ã¿è¾¼ã¿é–‹å§‹', { filters: { warehouseId: 1 } });
});
```

---

## AIé§†å‹•é–‹ç™ºã®ãŸã‚ã®å®Ÿè£…ã‚¬ã‚¤ãƒ‰

### AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãŒå‚ç…§ã™ã¹ãé‡è¦æƒ…å ±

#### 1. ã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```typescript
// âœ… æ¨å¥¨: Svelte 5 runes ãƒ‘ã‚¿ãƒ¼ãƒ³
let data = $state([]);
let isLoading = $state(false);
const processedData = $derived(data.filter((item) => item.isActive));

// âŒ å¤ã„ãƒ‘ã‚¿ãƒ¼ãƒ³ (ä½¿ç”¨ç¦æ­¢)
let data = [];
$: processedData = data.filter((item) => item.isActive);
```

```javascript
// âœ… æ¨å¥¨: ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³
inventoryData.update((items) => {
	return [...items, newItem]; // æ–°ã—ã„é…åˆ—ã‚’è¿”ã™
});

// âŒ ç ´å£Šçš„ãƒ¡ã‚½ãƒƒãƒ‰ (ä½¿ç”¨ç¦æ­¢)
inventoryData.update((items) => {
	items.push(newItem); // æ—¢å­˜é…åˆ—ã‚’å¤‰æ›´
	return items;
});
```

#### 2. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆåŸå‰‡

```mermaid
graph TD
    A[User Action] --> B[dataService]
    B --> C[Mock/Real API]
    C --> D[Data Processing]
    D --> E[State Update]
    E --> F[UI Re-render]
    F --> G[Real-time Updates]
    G --> B
```

**é‡è¦ãªè¨­è¨ˆåŸå‰‡:**

1. **å˜ä¸€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã¯dataServiceçµŒç”±
2. **ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ›´æ–°**: Storeã‚’ä½¿ç”¨ã—ãŸè‡ªå‹•UIæ›´æ–°
3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼å‡¦ç†
4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: é…å»¶èª­ã¿è¾¼ã¿ã¨ä»®æƒ³åŒ–

### ã¾ã¨ã‚

ã“ã®åœ¨åº«ãƒ»ç‰©æµç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ã€ç¾ä»£çš„ãªã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ç®¡ç†ã®ãƒ‹ãƒ¼ã‚ºã«å¿œãˆã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚ŒãŸã€å®Ÿç”¨çš„ã§æ‹¡å¼µå¯èƒ½ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚AIé§†å‹•é–‹ç™ºã‚’æ„è­˜ã—ãŸè¨­è¨ˆã¨è©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ˆã‚Šã€ä»Šå¾Œã®æ‰©å¼µã‚„ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå®¹æ˜“ã«è¡Œãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

---

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**æœ€çµ‚æ›´æ–°**: 2025å¹´1æœˆ  
**ä½œæˆè€…**: AIé§†å‹•é–‹ç™ºãƒãƒ¼ãƒ   
**ãƒ©ã‚¤ã‚»ãƒ³ã‚¹**: MIT License

_ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã«ã‚ˆã‚‹å®Ÿè£…ã‚’æ”¯æ´ã™ã‚‹ãŸã‚ã«ç‰¹åˆ¥ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚_
